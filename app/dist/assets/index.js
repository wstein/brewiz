(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function l(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=l(s);fetch(s.href,r)}})();const Le=!1,Fe=(e,t)=>e===t,Ie=Symbol("solid-track"),se={equals:Fe};let _e=Te;const G=1,ae=2,ke={owned:null,cleanups:null,context:null,owner:null};var P=null;let he=null,je=null,S=null,I=null,z=null,ue=0;function ne(e,t){const l=S,n=P,s=e.length===0,r=t===void 0?n:t,i=s?ke:{owned:null,cleanups:null,context:r?r.context:null,owner:r},a=s?e:()=>e(()=>ee(()=>Z(i)));P=i,S=null;try{return le(a,!0)}finally{S=l,P=n}}function M(e,t){t=t?Object.assign({},se,t):se;const l={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},n=s=>(typeof s=="function"&&(s=s(l.value)),Se(l,s));return[Ce.bind(l),n]}function V(e,t,l){const n=ve(e,t,!1,G);te(n)}function Ne(e,t,l){_e=Re;const n=ve(e,t,!1,G);n.user=!0,z?z.push(n):te(n)}function p(e,t,l){l=l?Object.assign({},se,l):se;const n=ve(e,t,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=l.equals||void 0,te(n),Ce.bind(n)}function ee(e){if(S===null)return e();const t=S;S=null;try{return e()}finally{S=t}}function Be(e){Ne(()=>ee(e))}function Oe(e){return P===null||(P.cleanups===null?P.cleanups=[e]:P.cleanups.push(e)),e}function Ce(){if(this.sources&&this.state)if(this.state===G)te(this);else{const e=I;I=null,le(()=>oe(this),!1),I=e}if(S){const e=this.observers?this.observers.length:0;S.sources?(S.sources.push(this),S.sourceSlots.push(e)):(S.sources=[this],S.sourceSlots=[e]),this.observers?(this.observers.push(S),this.observerSlots.push(S.sources.length-1)):(this.observers=[S],this.observerSlots=[S.sources.length-1])}return this.value}function Se(e,t,l){let n=e.value;return(!e.comparator||!e.comparator(n,t))&&(e.value=t,e.observers&&e.observers.length&&le(()=>{for(let s=0;s<e.observers.length;s+=1){const r=e.observers[s],i=he&&he.running;i&&he.disposed.has(r),(i?!r.tState:!r.state)&&(r.pure?I.push(r):z.push(r),r.observers&&Ae(r)),i||(r.state=G)}if(I.length>1e6)throw I=[],new Error},!1)),t}function te(e){if(!e.fn)return;Z(e);const t=ue;Me(e,e.value,t)}function Me(e,t,l){let n;const s=P,r=S;S=P=e;try{n=e.fn(t)}catch(i){return e.pure&&(e.state=G,e.owned&&e.owned.forEach(Z),e.owned=null),e.updatedAt=l+1,Pe(i)}finally{S=r,P=s}(!e.updatedAt||e.updatedAt<=l)&&(e.updatedAt!=null&&"observers"in e?Se(e,n):e.value=n,e.updatedAt=l)}function ve(e,t,l,n=G,s){const r={fn:e,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:P,context:P?P.context:null,pure:l};return P===null||P!==ke&&(P.owned?P.owned.push(r):P.owned=[r]),r}function ie(e){if(e.state===0)return;if(e.state===ae)return oe(e);if(e.suspense&&ee(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<ue);)e.state&&t.push(e);for(let l=t.length-1;l>=0;l--)if(e=t[l],e.state===G)te(e);else if(e.state===ae){const n=I;I=null,le(()=>oe(e,t[0]),!1),I=n}}function le(e,t){if(I)return e();let l=!1;t||(I=[]),z?l=!0:z=[],ue++;try{const n=e();return De(l),n}catch(n){l||(z=null),I=null,Pe(n)}}function De(e){if(I&&(Te(I),I=null),e)return;const t=z;z=null,t.length&&le(()=>_e(t),!1)}function Te(e){for(let t=0;t<e.length;t++)ie(e[t])}function Re(e){let t,l=0;for(t=0;t<e.length;t++){const n=e[t];n.user?e[l++]=n:ie(n)}for(t=0;t<l;t++)ie(e[t])}function oe(e,t){e.state=0;for(let l=0;l<e.sources.length;l+=1){const n=e.sources[l];if(n.sources){const s=n.state;s===G?n!==t&&(!n.updatedAt||n.updatedAt<ue)&&ie(n):s===ae&&oe(n,t)}}}function Ae(e){for(let t=0;t<e.observers.length;t+=1){const l=e.observers[t];l.state||(l.state=ae,l.pure?I.push(l):z.push(l),l.observers&&Ae(l))}}function Z(e){let t;if(e.sources)for(;e.sources.length;){const l=e.sources.pop(),n=e.sourceSlots.pop(),s=l.observers;if(s&&s.length){const r=s.pop(),i=l.observerSlots.pop();n<s.length&&(r.sourceSlots[i]=n,s[n]=r,l.observerSlots[n]=i)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)Z(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)Z(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Ue(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Pe(e,t=P){throw Ue(e)}const Ve=Symbol("fallback");function xe(e){for(let t=0;t<e.length;t++)e[t]()}function ze(e,t,l={}){let n=[],s=[],r=[],i=0,a=t.length>1?[]:null;return Oe(()=>xe(r)),()=>{let u=e()||[],d=u.length,f,o;return u[Ie],ee(()=>{let v,T,g,B,D,y,L,j,O;if(d===0)i!==0&&(xe(r),r=[],n=[],s=[],i=0,a&&(a=[])),l.fallback&&(n=[Ve],s[0]=ne(K=>(r[0]=K,l.fallback())),i=1);else if(i===0){for(s=new Array(d),o=0;o<d;o++)n[o]=u[o],s[o]=ne(m);i=d}else{for(g=new Array(d),B=new Array(d),a&&(D=new Array(d)),y=0,L=Math.min(i,d);y<L&&n[y]===u[y];y++);for(L=i-1,j=d-1;L>=y&&j>=y&&n[L]===u[j];L--,j--)g[j]=s[L],B[j]=r[L],a&&(D[j]=a[L]);for(v=new Map,T=new Array(j+1),o=j;o>=y;o--)O=u[o],f=v.get(O),T[o]=f===void 0?-1:f,v.set(O,o);for(f=y;f<=L;f++)O=n[f],o=v.get(O),o!==void 0&&o!==-1?(g[o]=s[f],B[o]=r[f],a&&(D[o]=a[f]),o=T[o],v.set(O,o)):r[f]();for(o=y;o<d;o++)o in g?(s[o]=g[o],r[o]=B[o],a&&(a[o]=D[o],a[o](o))):s[o]=ne(m);s=s.slice(0,i=d),n=u.slice(0)}return s});function m(v){if(r[o]=v,a){const[T,g]=M(o);return a[o]=g,t(u[o],T)}return t(u[o])}}}function E(e,t){return ee(()=>e(t||{}))}function Ee(e){const t="fallback"in e&&{fallback:()=>e.fallback};return p(ze(()=>e.each,e.children,t||void 0))}function He(e,t,l){let n=l.length,s=t.length,r=n,i=0,a=0,u=t[s-1].nextSibling,d=null;for(;i<s||a<r;){if(t[i]===l[a]){i++,a++;continue}for(;t[s-1]===l[r-1];)s--,r--;if(s===i){const f=r<n?a?l[a-1].nextSibling:l[r-a]:u;for(;a<r;)e.insertBefore(l[a++],f)}else if(r===a)for(;i<s;)(!d||!d.has(t[i]))&&t[i].remove(),i++;else if(t[i]===l[r-1]&&l[a]===t[s-1]){const f=t[--s].nextSibling;e.insertBefore(l[a++],t[i++].nextSibling),e.insertBefore(l[--r],f),t[s]=l[r]}else{if(!d){d=new Map;let o=a;for(;o<r;)d.set(l[o],o++)}const f=d.get(t[i]);if(f!=null)if(a<f&&f<r){let o=i,m=1,v;for(;++o<s&&o<r&&!((v=d.get(t[o]))==null||v!==f+m);)m++;if(m>f-a){const T=t[i];for(;a<f;)e.insertBefore(l[a++],T)}else e.replaceChild(l[a++],t[i++])}else i++;else t[i++].remove()}}}const we="_$DX_DELEGATE";function We(e,t,l,n={}){let s;return ne(r=>{s=r,t===document?e():c(t,e(),t.firstChild?null:void 0,l)},n.owner),()=>{s(),t.textContent=""}}function h(e,t,l,n){let s;const r=()=>{const a=document.createElement("template");return a.innerHTML=e,a.content.firstChild},i=()=>(s||(s=r())).cloneNode(!0);return i.cloneNode=i,i}function de(e,t=window.document){const l=t[we]||(t[we]=new Set);for(let n=0,s=e.length;n<s;n++){const r=e[n];l.has(r)||(l.add(r),t.addEventListener(r,Ge))}}function be(e,t,l){l==null?e.removeAttribute(t):e.setAttribute(t,l)}function W(e,t){t==null?e.removeAttribute("class"):e.className=t}function Q(e,t,l,n){Array.isArray(l)?(e[`$$${t}`]=l[0],e[`$$${t}Data`]=l[1]):e[`$$${t}`]=l}function c(e,t,l,n){if(l!==void 0&&!n&&(n=[]),typeof t!="function")return ce(e,t,n,l);V(s=>ce(e,t(),s,l),n)}function Ge(e){let t=e.target;const l=`$$${e.type}`,n=e.target,s=e.currentTarget,r=u=>Object.defineProperty(e,"target",{configurable:!0,value:u}),i=()=>{const u=t[l];if(u&&!t.disabled){const d=t[`${l}Data`];if(d!==void 0?u.call(t,d,e):u.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&r(t.host),!0},a=()=>{for(;i()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const u=e.composedPath();r(u[0]);for(let d=0;d<u.length-2&&(t=u[d],!!i());d++){if(t._$host){t=t._$host,a();break}if(t.parentNode===s)break}}else a();r(n)}function ce(e,t,l,n,s){for(;typeof l=="function";)l=l();if(t===l)return l;const r=typeof t,i=n!==void 0;if(e=i&&l[0]&&l[0].parentNode||e,r==="string"||r==="number"){if(r==="number"&&(t=t.toString(),t===l))return l;if(i){let a=l[0];a&&a.nodeType===3?a.data!==t&&(a.data=t):a=document.createTextNode(t),l=q(e,l,n,a)}else l!==""&&typeof l=="string"?l=e.firstChild.data=t:l=e.textContent=t}else if(t==null||r==="boolean")l=q(e,l,n);else{if(r==="function")return V(()=>{let a=t();for(;typeof a=="function";)a=a();l=ce(e,a,l,n)}),()=>l;if(Array.isArray(t)){const a=[],u=l&&Array.isArray(l);if(me(a,t,l,s))return V(()=>l=ce(e,a,l,n,!0)),()=>l;if(a.length===0){if(l=q(e,l,n),i)return l}else u?l.length===0?pe(e,a,n):He(e,l,a):(l&&q(e),pe(e,a));l=a}else if(t.nodeType){if(Array.isArray(l)){if(i)return l=q(e,l,n,t);q(e,l,null,t)}else l==null||l===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);l=t}}return l}function me(e,t,l,n){let s=!1;for(let r=0,i=t.length;r<i;r++){let a=t[r],u=l&&l[e.length],d;if(!(a==null||a===!0||a===!1))if((d=typeof a)=="object"&&a.nodeType)e.push(a);else if(Array.isArray(a))s=me(e,a,u)||s;else if(d==="function")if(n){for(;typeof a=="function";)a=a();s=me(e,Array.isArray(a)?a:[a],Array.isArray(u)?u:[u])||s}else e.push(a),s=!0;else{const f=String(a);u&&u.nodeType===3&&u.data===f?e.push(u):e.push(document.createTextNode(f))}}return s}function pe(e,t,l=null){for(let n=0,s=t.length;n<s;n++)e.insertBefore(t[n],l)}function q(e,t,l,n){if(l===void 0)return e.textContent="";const s=n||document.createTextNode("");if(t.length){let r=!1;for(let i=t.length-1;i>=0;i--){const a=t[i];if(s!==a){const u=a.parentNode===e;!r&&!i?u?e.replaceChild(s,a):e.insertBefore(s,l):u&&a.remove()}else r=!0}}else e.insertBefore(s,l);return[s]}function Ke(){const[e,t]=M(new Set),[l,n]=M([]),[s,r]=M(!0),[i,a]=M(null),[u,d]=M(!1),[f,o]=M(!1),[m,v]=M(null),T="/api/v1",g=async()=>{try{const $=await fetch("./fixtures/packages.json");if(!$.ok)throw new Error(`HTTP error! status: ${$.status}`);return await $.json()}catch($){throw console.error("Error fetching packages data:",$),$}},B=async $=>{try{const w=await fetch(`${T}${$}`);if(!w.ok)throw new Error(`HTTP error! status: ${w.status}`);return await w.json()}catch(w){throw console.error(`Error fetching from ${$}:`,w),a(w.message),w}};return{packages:l,loading:s,error:i,refreshing:u,usingLocalData:f,selectedPackages:e,loadPackages:async()=>{try{r(!0),a(null);const $=await B("/packages");n($),t(new Set),o(!1)}catch{console.warn("API not available, fetching from fixtures");try{const w=await g();n(w),o(!0)}catch(w){console.error("Failed to fetch packages data:",w),a("Failed to load packages data"),n([])}}finally{r(!1)}},refreshPackages:async()=>{try{d(!0),a(null);const $=await B("/reload");n($),t(new Set),o(!1)}catch{console.warn("API not available, fetching from fixtures");try{const w=await g();n(w),o(!0)}catch(w){console.error("Failed to fetch packages data:",w),a("Failed to load packages data"),n([])}}finally{d(!1)}},resetSelection:()=>t(new Set),togglePackage:$=>{const w=new Set(e());w.has($.name)?w.delete($.name):w.add($.name),t(w)},version:m,loadVersion:async()=>{try{const $=await B("/version");v($)}catch($){console.warn("Failed to fetch version info:",$),a("Failed to load version info")}},outdatedPackages:()=>l().flatMap($=>$.packages).filter($=>$.outdated)}}function qe(){const[e,t]=M(""),[l,n]=M({installed:!0,notInstalled:!0,outdated:!0,casks:!0,formulae:!0}),[s,r]=M([]),[i,a]=M("");return{searchTerm:e,setSearchTerm:t,filters:l,updateFilter:(m,v)=>{n(T=>{const g={...T,[m]:v};return m==="installed"&&v?g.outdated=!0:m==="outdated"&&!v?(g.installed=!1,g.notInstalled=!0):(m==="casks"||m==="formulae")&&!v&&(g[m==="casks"?"formulae":"casks"]=!0),!g.installed&&!g.notInstalled&&!g.outdated&&(g.installed=!0,g.outdated=!0),g})},resetFilters:()=>{n({installed:!0,notInstalled:!0,outdated:!0,casks:!0,formulae:!0}),t(""),r([]),a("")},selectedTags:s,toggleTag:m=>{r(v=>v.includes(m)?v.filter(T=>T!==m):[...v,m])},clearTags:()=>{r([])},tagSearchTerm:i,setTagSearchTerm:a}}var Qe=h('<div class="fixed top-0 left-0 right-0 bg-white shadow-md z-50"><div class="max-w-[1800px] min-w-[1200px] mx-auto px-3 py-2"><div class="flex justify-between items-center"><div class="flex items-start gap-3"><a href=https://brew.sh target=_blank rel="noopener noreferrer"><img src=https://upload.wikimedia.org/wikipedia/commons/9/95/Homebrew_logo.svg alt="Homebrew logo"class="w-16 h-16"></a><div><h1 class="text-2xl font-bold text-center"><a href=https://github.com/wstein/brewiz target=_blank rel="noopener noreferrer"class="hover:text-gray-700 hover:underline">Homebrew Package Wizard</a></h1><p class="text-gray-600 text-sm">Select packages to install on your macOS system</p></div></div><div class="flex flex-col gap-1"><div class="relative max-w-[475px]"><input type=text placeholder="Search packages..."class="w-full px-3 py-1 h-8 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"></div><div class="flex gap-3 flex-wrap"><div class="flex gap-2 bg-slate-100 border border-slate-300 p-1 rounded-lg"></div><div class="flex gap-2 bg-slate-100 border border-slate-300 p-1 rounded-lg"></div><div class="relative group"><button>Tags <svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor class="w-4 h-4"><path stroke-linecap=round stroke-linejoin=round d="M19.5 8.25l-7.5 7.5-7.5-7.5"></path></svg></button><div class="absolute z-50 hidden group-hover:block right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg w-96 max-h-96 overflow-y-auto"><div class=p-3><div class="flex justify-between items-center mb-3"><h3 class="font-semibold text-gray-800">Filter by Tags</h3></div><div class=mb-3><div class=relative><input type=text placeholder="Search tags..."class="w-full px-3 py-1.5 text-sm border rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500"></div></div><div class="max-h-60 overflow-y-auto pr-1"></div><div class="mt-2 pt-2 border-t border-gray-200 text-xs text-gray-500">Click to select multiple tags. Packages with any selected tag will be shown.</div></div></div></div></div></div><div class="flex flex-col items-end gap-3"><div class="flex gap-2"><button title="Refresh package list">Refresh</button><button title="Clear selected packages"class="px-4 py-1.5 text-base rounded-lg bg-red-500 hover:bg-red-600 text-white">Reset</button><button title="Close Brewiz"class="px-4 py-1.5 text-base rounded-lg bg-gray-500 hover:bg-gray-600 text-white">Close</button></div><div class="text-xs text-gray-500"><span></span></div></div></div><div><div class=flex-grow>'),Xe=h('<button class="text-xs text-blue-600 hover:text-blue-800 font-semibold">Clear All'),Ye=h('<button class="absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600"><svg xmlns=http://www.w3.org/2000/svg class="h-4 w-4"fill=none viewBox="0 0 24 24"stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M6 18L18 6M6 6l12 12">'),Je=h('<div class="mb-3 pb-3 border-b border-gray-200"><div class="text-xs font-medium text-gray-700 mb-1.5">Selected:</div><div class="flex flex-wrap gap-1.5">'),ye=h('<span class="px-2 py-0.5 text-xs bg-blue-100 text-blue-700 border border-blue-300 rounded-full flex items-center">#<button class="ml-1 text-blue-700 hover:text-blue-900 font-bold">×'),Ze=h('<p class="text-sm text-gray-500 py-2">No matching tags found'),et=h('<div class="text-xs font-medium text-gray-700 mb-1.5">All tags:'),tt=h('<div class="flex flex-wrap gap-1.5">'),lt=h("<span>#"),rt=h('<span class="ml-1 text-gray-500 font-semibold">'),nt=h('<div class="flex flex-wrap gap-1.5 mt-1.5 ml-1">'),st=h('<button class="text-xs text-blue-600 hover:text-blue-800 px-2 py-0.5">Clear all'),at=h("<span>"),it=h('<a target=_blank rel="noopener noreferrer"class="hover:text-gray-700 hover:underline">brewiz v'),ot=h('<div class="flex items-center justify-center p-4"><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500">'),ct=h('<div class="bg-yellow-100 border-2 border-yellow-400 text-yellow-800 rounded-lg p-4"><h3 class=font-bold>Using local package data</h3><p class=text-sm>The API server is not available. Using built-in example data instead.'),ut=h('<div class="bg-blue-50 border border-blue-200 text-blue-800 rounded-lg p-4"><h3 class="font-bold flex items-center">Refreshing brew data...</h3><p>Please wait while we refresh package information.'),dt=h("<button>");const Y="0.9.10";function ft(e){const t=async()=>{try{await fetch("/api/v1/terminate",{method:"POST"}),window.close(),window.opener&&window.opener.close(),window.location.href="about:blank"}catch(l){console.error("Failed to terminate server:",l)}};return(()=>{var l=Qe(),n=l.firstChild,s=n.firstChild,r=s.firstChild,i=r.nextSibling,a=i.firstChild,u=a.firstChild,d=a.nextSibling,f=d.firstChild,o=f.nextSibling,m=o.nextSibling,v=m.firstChild,T=v.firstChild,g=T.nextSibling,B=v.nextSibling,D=B.firstChild,y=D.firstChild;y.firstChild;var L=y.nextSibling,j=L.firstChild,O=j.firstChild,K=L.nextSibling,$=i.nextSibling,w=$.firstChild,H=w.firstChild,fe=H.firstChild,X=H.nextSibling,_=X.nextSibling,C=w.nextSibling,k=C.firstChild,R=s.nextSibling,ge=R.firstChild;return u.$$input=b=>e.onSearch(b.target.value),c(f,E(J,{get active(){return e.filters().installed},onClick:()=>e.onFilterChange("installed"),label:"Installed"}),null),c(f,E(J,{get active(){return e.filters().notInstalled},onClick:()=>e.onFilterChange("notInstalled"),label:"Not Installed"}),null),c(f,E(J,{get active(){return e.filters().outdated},onClick:()=>e.onFilterChange("outdated"),label:"Outdated"}),null),c(o,E(J,{get active(){return e.filters().casks},onClick:()=>e.onFilterChange("casks"),label:"Casks"}),null),c(o,E(J,{get active(){return e.filters().formulae},onClick:()=>e.onFilterChange("formulae"),label:"Formulae"}),null),c(v,(()=>{var b=p(()=>e.selectedTags().length>0);return()=>b()&&`(${e.selectedTags().length})`})(),g),c(y,(()=>{var b=p(()=>e.selectedTags().length>0);return()=>b()&&(()=>{var x=Xe();return Q(x,"click",e.onClearTags),x})()})(),null),O.$$input=b=>e.onTagSearch(b.target.value),c(j,(()=>{var b=p(()=>!!e.tagSearchTerm);return()=>b()&&(()=>{var x=Ye();return x.$$click=()=>e.onTagSearch(""),x})()})(),null),c(D,(()=>{var b=p(()=>e.selectedTags().length>0);return()=>b()&&(()=>{var x=Je(),F=x.firstChild,A=F.nextSibling;return c(A,()=>e.selectedTags().map(N=>(()=>{var U=ye(),re=U.firstChild,$e=re.nextSibling;return c(U,N,$e),$e.$$click=()=>e.onTagToggle(N),U})())),x})()})(),K),c(K,(()=>{var b=p(()=>e.filteredTags.length===0);return()=>b()?Ze():[et(),(()=>{var x=tt();return c(x,()=>e.filteredTags.map(F=>(()=>{var A=lt();return A.firstChild,A.$$click=()=>e.onTagToggle(F),c(A,F,null),c(A,(()=>{var N=p(()=>!!(e.tagCounts&&e.tagCounts[F]));return()=>N()&&(()=>{var U=rt();return c(U,()=>e.tagCounts[F]),U})()})(),null),V(N=>{var U=`px-2 py-0.5 text-xs rounded-full cursor-pointer ${e.selectedTags().includes(F)?"bg-blue-100 text-blue-700 border border-blue-300":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,re=e.selectedTags().includes(F)?"Click to remove":"Click to add";return U!==N.e&&W(A,N.e=U),re!==N.t&&be(A,"title",N.t=re),N},{e:void 0,t:void 0}),A})())),x})()]})()),c(i,(()=>{var b=p(()=>e.selectedTags().length>0);return()=>b()&&(()=>{var x=nt();return c(x,()=>e.selectedTags().map(F=>(()=>{var A=ye(),N=A.firstChild,U=N.nextSibling;return c(A,F,U),U.$$click=()=>e.onTagToggle(F),A})()),null),c(x,(()=>{var F=p(()=>e.selectedTags().length>0);return()=>F()&&(()=>{var A=st();return Q(A,"click",e.onClearTags),A})()})(),null),x})()})(),null),Q(H,"click",e.onRefresh),c(H,(()=>{var b=p(()=>!!(e.loading||e.refreshing));return()=>b()&&(()=>{var x=at();return V(()=>W(x,`inline-block w-3 h-3 border-2 border-t-transparent rounded-full ${e.loading||e.refreshing?"animate-spin border-white":"border-white/50"}`)),x})()})(),fe),Q(X,"click",e.onReset),_.$$click=t,c(k,(()=>{var b=p(()=>{var x;return Y===(((x=e==null?void 0:e.version)==null?void 0:x.brewiz)||Y)});return()=>b()?(()=>{var x=it();return x.firstChild,be(x,"href",`https://github.com/wstein/brewiz/tree/v${Y}`),c(x,Y,null),x})():`brewiz v${e.version.brewiz} / app v${Y}`})()),c(ge,(()=>{var b=p(()=>!!e.loading);return()=>b()&&ot()})(),null),c(ge,(()=>{var b=p(()=>!!(e.usingLocalData&&!e.loading));return()=>b()&&ct()})(),null),c(ge,(()=>{var b=p(()=>!!(e.refreshing&&!e.loading));return()=>b()&&ut()})(),null),V(b=>{var x=`px-3 py-1 text-sm rounded-full flex items-center gap-1 ${e.selectedTags().length>0?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,F=e.loading||e.refreshing,A=`px-4 py-1.5 text-base rounded-lg flex items-center gap-2 ${e.loading||e.refreshing?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 text-white"}`,N=`${e.loading||e.usingLocalData||e.refreshing?"mt-6 mb-2":"mt-1"} flex justify-between items-end`;return x!==b.e&&W(v,b.e=x),F!==b.t&&(H.disabled=b.t=F),A!==b.a&&W(H,b.a=A),N!==b.o&&W(R,b.o=N),b},{e:void 0,t:void 0,a:void 0,o:void 0}),V(()=>u.value=e.searchTerm()),V(()=>O.value=e.tagSearchTerm||""),l})()}function J(e){return(()=>{var t=dt();return Q(t,"click",e.onClick),c(t,()=>e.label),V(()=>W(t,`px-3 py-1 text-sm rounded-full transition-colors ${e.active?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`)),t})()}de(["input","click"]);var gt=h('<div><div class="flex items-center justify-between"><div class="flex items-center gap-2"><h3 class="text-lg font-semibold"></h3></div><div class="flex gap-2"></div></div><p class="text-gray-600 mt-2 text-sm flex-grow">'),ht=h('<span class=text-yellow-500 title=Recommended><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"fill=currentColor class="w-5 h-5"><path fill-rule=evenodd d="M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z"clip-rule=evenodd>'),bt=h('<a target=_blank rel="noopener noreferrer"class="text-blue-500 hover:text-blue-600 transition-colors"><svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor class="w-5 h-5"><path stroke-linecap=round stroke-linejoin=round d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25">'),mt=h('<span class="px-2 py-1 text-xs bg-orange-100 text-orange-800 rounded-full group relative">'),vt=h('<span class="px-2 py-1 text-xs bg-purple-100 text-purple-800 rounded-full">cask'),$t=h('<div class="relative group cursor-help"><div class="text-gray-500 hover:text-gray-700"><svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor class="w-5 h-5"><path stroke-linecap=round stroke-linejoin=round d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"></path></svg></div><div class="absolute z-50 hidden group-hover:block bg-gray-800 text-white text-sm rounded p-2 shadow-lg w-64 right-0 transform -translate-y-3/4"><div>'),xt=h('<div class="mt-1 pt-1 border-t border-gray-600">'),wt=h("<div>Version: "),pt=h("<b><i> → "),yt=h('<div class="flex flex-wrap gap-1.5 mt-3">'),_t=h('<span title="Click to filter by this tag">#');function kt(e){return(()=>{var t=gt(),l=t.firstChild,n=l.firstChild,s=n.firstChild,r=n.nextSibling,i=l.nextSibling;return t.$$click=()=>e.onToggle(e.pkg),c(s,()=>e.pkg.name),c(n,(()=>{var a=p(()=>!!e.pkg.recommended);return()=>a()&&ht()})(),null),c(n,(()=>{var a=p(()=>!!e.pkg.homepage);return()=>a()&&(()=>{var u=bt();return u.$$click=d=>d.stopPropagation(),V(()=>be(u,"href",e.pkg.homepage)),u})()})(),null),c(r,(()=>{var a=p(()=>!!e.pkg.tap);return()=>a()&&(()=>{var u=mt();return c(u,()=>e.pkg.tap.split("/")[0]),u})()})(),null),c(r,(()=>{var a=p(()=>!!e.pkg.cask);return()=>a()&&vt()})(),null),c(r,(()=>{var a=p(()=>!!e.pkg.info);return()=>a()&&(()=>{var u=$t(),d=u.firstChild,f=d.nextSibling,o=f.firstChild;return d.$$click=m=>m.stopPropagation(),c(o,()=>e.pkg.info,null),c(o,(()=>{var m=p(()=>!!(e.pkg.versions||e.pkg.tap));return()=>m()&&(()=>{var v=xt();return c(v,(()=>{var T=p(()=>!!e.pkg.versions);return()=>T()&&(()=>{var g=wt();return g.firstChild,c(g,()=>e.pkg.versions,null),c(g,(()=>{var B=p(()=>!!e.pkg.outdated);return()=>B()&&(()=>{var D=pt(),y=D.firstChild;return y.firstChild,c(y,()=>e.pkg.latest_version,null),D})()})(),null),g})()})()),v})()})(),null),u})()})(),null),c(i,()=>e.pkg.desc),c(t,(()=>{var a=p(()=>!!(e.pkg.tags&&e.pkg.tags.length>0));return()=>a()&&(()=>{var u=yt();return c(u,()=>e.pkg.tags.map(d=>(()=>{var f=_t();return f.firstChild,f.$$click=o=>{o.stopPropagation(),e.onTagClick&&e.onTagClick(d)},c(f,d,null),V(()=>{var o;return W(f,`px-1.5 py-0.5 text-xs bg-gray-100 text-gray-700 rounded-full cursor-pointer hover:bg-gray-200 ${(o=e.selectedTags)!=null&&o.includes(d)?"bg-blue-100 text-blue-700 border border-blue-300":""}`)}),f})())),u})()})(),null),V(()=>W(t,`p-3 rounded-lg mb-1 cursor-pointer transition-all hover:transform hover:scale-[1.02] h-full flex flex-col ${e.selected?e.pkg.installed?"bg-red-200 border-2 border-red-400 hover:border-red-500 hover:shadow-sm":"bg-green-200 border-2 border-green-400 hover:border-green-500 hover:shadow-sm":e.pkg.installed?e.pkg.outdated?"bg-blue-300 border-2 border-blue-500 hover:border-blue-600 hover:shadow-sm":"bg-blue-100 border-2 border-blue-300 hover:border-blue-400 hover:shadow-sm":"bg-gray-50 border-2 border-gray-200 hover:border-gray-300 hover:shadow-sm"}`)),t})()}de(["click"]);var Ct=h('<div class="bg-white rounded-lg shadow-sm overflow-visible"><div class="flex items-center justify-between cursor-pointer p-4 bg-gray-50 hover:bg-gray-100 transition-colors"><div><h2 class="text-xl font-bold"></h2><p class="text-gray-600 text-sm"></p></div><span class="text-2xl text-gray-500">'),St=h('<div class="p-4 overflow-visible"><div class="grid grid-cols-3 2xl:grid-cols-4 gap-3 overflow-visible">');function Tt(e){const[t,l]=M(!0);return(()=>{var n=Ct(),s=n.firstChild,r=s.firstChild,i=r.firstChild,a=i.nextSibling,u=r.nextSibling;return s.$$click=()=>l(!t()),c(i,()=>e.category.name),c(a,()=>e.category.desc),c(u,()=>t()?"−":"+"),c(n,(()=>{var d=p(()=>!!t());return()=>d()&&(()=>{var f=St(),o=f.firstChild;return c(o,E(Ee,{get each(){return e.category.packages},children:m=>E(kt,{pkg:m,get selected(){return e.selectedPackages.has(m.name)},onToggle:()=>e.onPackageToggle(m),get selectedTags(){return e.selectedTags},get onTagClick(){return e.onTagClick}})})),f})()})(),null),n})()}de(["click"]);var At=h('<div class="max-w-[1800px] min-w-[1200px] mx-auto px-4 py-8 pb-64 mt-32"><div class=space-y-6>');function Pt(e){return(()=>{var t=At(),l=t.firstChild;return c(l,E(Ee,{get each(){return e.packages},children:n=>E(Tt,{category:n,get selectedPackages(){return e.selectedPackages},get onPackageToggle(){return e.onPackageToggle},get selectedTags(){return e.selectedTags},get onTagClick(){return e.onTagClick}})})),t})()}function Et(e,t,l){const n=e.flatMap(i=>i.packages),s=Array.from(t).map(i=>n.find(a=>a.name===i)).filter(Boolean),r=[];return s.length===0?r.push("# Select packages to generate install and uninstall commands"):(Ft(r,s),It(r,s)),Lt(r,l),r.push("brew cleanup # Consider to remove old versions and free disk space"),r}function Lt(e,t){t.length>0&&e.push(`brew upgrade # You have ${t.length} outdated package${t.length>1?"s":""}`)}function Ft(e,t){const l=t.filter(r=>!r.installed),n=l.filter(r=>r.cask).map(r=>r.tap?`${r.tap}/${r.token}`:r.token).sort(),s=l.filter(r=>!r.cask).map(r=>r.tap?`${r.tap}/${r.name}`:r.name).sort();s.length&&e.push(`brew install ${s.join(" ")}`),n.length&&e.push(`brew install --cask ${n.join(" ")}`)}function It(e,t){const l=t.filter(r=>r.installed),n=l.filter(r=>r.cask).map(r=>r.tap?`${r.tap}/${r.token}`:r.token).sort(),s=l.filter(r=>!r.cask).map(r=>r.tap?`${r.tap}/${r.name}`:r.name).sort();s.length&&e.push(`brew uninstall ${s.join(" ")}`),n.length&&e.push(`brew uninstall --cask ${n.join(" ")}`)}var jt=h('<div class="fixed bottom-0 left-0 right-0 bg-[#282a36] text-[#f8f8f2] shadow-lg z-50"><div class="max-w-[1800px] min-w-[1200px] mx-auto px-4 py-4">'),Nt=h('<div class="flex justify-between items-center mb-2"><h3 class="text-lg font-semibold">Brew Commands:</h3><button title="Copy commands to clipboard"class="px-3 py-1 bg-blue-500 hover:bg-blue-600 rounded text-sm flex items-center gap-2 transition-colors">'),Bt=h('<pre class="font-mono text-sm overflow-x-auto rounded bg-[#1e1f29] p-4">'),Ot=h("<span class=text-[#fe4a56]><i><b>"),Mt=h("<div><span class=text-[#50fa7b]>brew</span> <span class=text-[#ff79c6]></span> <span class=text-[#f1fa8c]></span><span class=text-[#fe4a56]><i><b>"),Dt=h("<div><span class=text-[#50fa7b]>brew</span> <span class=text-[#ff79c6]></span> <span class=text-[#f1fa8c]>");function Rt(e){const[t,l]=M(""),n=()=>Et(e.categories,e.selectedPackages(),e.outdatedPackages()),s=async()=>{const i=n().join(`
`);try{await navigator.clipboard.writeText(i),r("Copied!")}catch{r("Failed to copy")}},r=i=>{l(i),setTimeout(()=>l(""),2e3)};return(()=>{var i=jt(),a=i.firstChild;return c(a,E(Ut,{copyToClipboard:s,copySuccess:t}),null),c(a,E(Vt,{get commands(){return n()}}),null),i})()}function Ut(e){return(()=>{var t=Nt(),l=t.firstChild,n=l.nextSibling;return Q(n,"click",e.copyToClipboard),c(n,()=>e.copySuccess()||"Copy"),t})()}function Vt(e){return(()=>{var t=Bt();return c(t,()=>e.commands.map(l=>l.startsWith("#")?E(zt,{text:l}):l.includes("#")?E(Ht,{cmd:l}):E(Wt,{cmd:l}))),t})()}function zt(e){return(()=>{var t=Ot(),l=t.firstChild,n=l.firstChild;return c(n,()=>e.text),t})()}function Ht(e){const[t,l]=e.cmd.split("#",2),n=t.trim().split(" ");return(()=>{var s=Mt(),r=s.firstChild,i=r.nextSibling,a=i.nextSibling,u=a.nextSibling,d=u.nextSibling,f=d.nextSibling,o=f.firstChild,m=o.firstChild;return c(a,()=>n[1]),c(d,()=>n.slice(2).join(" ")),c(m,`#${l}`),s})()}function Wt(e){const t=e.cmd.split(" ");return(()=>{var l=Dt(),n=l.firstChild,s=n.nextSibling,r=s.nextSibling,i=r.nextSibling,a=i.nextSibling;return c(r,()=>t[1]),c(a,()=>t.slice(2).join(" ")),l})()}de(["click"]);var Gt=h('<div class="min-h-screen min-w-[1200px] bg-gray-100">');function Kt(){const{packages:e,loading:t,error:l,refreshing:n,usingLocalData:s,selectedPackages:r,outdatedPackages:i,version:a,loadPackages:u,refreshPackages:d,resetSelection:f,togglePackage:o,loadVersion:m}=Ke(),{searchTerm:v,setSearchTerm:T,filters:g,updateFilter:B,resetFilters:D,selectedTags:y,toggleTag:L,clearTags:j,tagSearchTerm:O,setTagSearchTerm:K}=qe(),$=()=>{f(),D()},w=p(()=>{const _=new Set;return e().forEach(C=>{C.packages.forEach(k=>{k.tags&&Array.isArray(k.tags)&&k.tags.forEach(R=>_.add(R))})}),Array.from(_).sort()}),H=p(()=>{const _={};return e().forEach(C=>{C.packages.forEach(k=>{k.tags&&Array.isArray(k.tags)&&k.tags.forEach(R=>{_[R]=(_[R]||0)+1})})}),_}),fe=p(()=>{if(!O())return w();const _=O().toLowerCase();return w().filter(C=>C.toLowerCase().includes(_))}),X=()=>{let _=e();if(v()){const C=v().toLowerCase();_=_.map(k=>({...k,packages:k.packages.filter(R=>R.name.toLowerCase().includes(C)||R.desc&&R.desc.toLowerCase().includes(C))}))}return(!g().casks||!g().formulae||g().installed||g().notInstalled||g().outdated)&&(_=_.map(C=>({...C,packages:C.packages.filter(k=>!g().casks&&k.cask||!g().formulae&&!k.cask?!1:!!(g().installed&&k.installed||g().notInstalled&&!k.installed||g().outdated&&k.outdated))}))),y().length>0&&(_=_.map(C=>({...C,packages:C.packages.filter(k=>!k.tags||!Array.isArray(k.tags)?!1:y().some(R=>k.tags.includes(R)))}))),_.filter(C=>C.packages.length>0)};return Be(()=>{u(),m()}),(()=>{var _=Gt();return c(_,E(ft,{get loading(){return t()},get refreshing(){return n()},get error(){return l()},get version(){return a()},onRefresh:d,onReset:$,get selectedPackagesCount(){return r().size},get usingLocalData(){return s()},searchTerm:v,onSearch:T,filters:g,onFilterChange:C=>B(C,!g()[C]),selectedTags:y,onTagToggle:L,onClearTags:j,get allAvailableTags(){return w()},get tagCounts(){return H()},get filteredTags(){return fe()},get tagSearchTerm(){return O()},onTagSearch:K}),null),c(_,E(Pt,{get packages(){return X()},get selectedPackages(){return r()},onPackageToggle:o,get selectedTags(){return y()},onTagClick:L}),null),c(_,E(Rt,{get categories(){return X()},selectedPackages:r,outdatedPackages:i}),null),_})()}const qt=document.getElementById("root");We(()=>E(Kt,{}),qt);
